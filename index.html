<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Click, Click, BOOM ðŸ’¥</title>
  <link rel="icon" href="https://fav.farm/ðŸ’£">
  <style>
    table {
      background-color: #450084;
      min-width: 25rem;
      min-height: 25rem;
    }

    td {
      background-color: wheat;
      border: 0.25rem solid #8EE4D7 ;
    }
  </style>
</head>
<body>
  <h1 id="boom-text"></h1>
  <table>
    <tbody>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <!-- Click3.wav by EdgardEdition -- https://freesound.org/s/113093/ -- License: Attribution 3.0 -->
  <audio id="click" src="113093__edgardedition__click3.wav"></audio>

  <!-- Boom_C_02 by cabled_mess -- https://freesound.org/s/350975/ -- License: Creative Commons 0 -->
  <audio id="boom" src="350975__cabled_mess__boom_c_02.wav"></audio>
  <script>
    let clickCount = 0;
    const clickSound = document.getElementById('click')
    const boomSound = document.getElementById('boom')
    let lastSound = clickSound;
    const boomText = document.getElementById('boom-text');

    const tableCells = document.querySelectorAll("td");
    tableCells.forEach((e) => {
      e.addEventListener("click", onClick);
    })
  
    function onClick(ev) {
      lastSound.pause()
      lastSound.currentTime = 0;
      clickCount++
      if (clickCount % 3 == 0) {
        // boom
        boomSound.play();
        lastSound = boomSound
        boomText.innerHTML = "BOOM"
      } else {
        clickSound.play();
        lastSound = clickSound
        boomText.innerHTML = "";
      }
      console.log(`ev in onClick ${ev}`)
      // TODO: 2 - REMOVE THE TABLE CELL THAT WAS CLICKED
      const row = ev.target.parentElement;
      ev.target.remove();
      console.log(row);
      if (row.children.length % 2 === 0) {
        row.removeAttribute("class");
      } else {
        row.className = "odd";
      }
    }
  </script>
</body>
</html>